<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>여행 계획 API - api 명세</title>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="static/css/bootstrap.css">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">

  <!-- Custom styles for this template -->
  <link href="static/css/shop-item.css" rel="stylesheet">
    <link href="static/css/json-viewer.css" rel="stylesheet">


    <script src="/static/js/json-viewer.js" type="text/javascript"></script>


</head>

<body class="p-0 m-0">

  <!-- Navigation -->
  <nav class="navbar navbar-dark  navbar-expand-lg p-0 m-0" style="background-color:black">
    <div class="container">

        <a class="navbar-brand" style="font-size:1.5em" href="/">여행 계획 API</a>

        <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#myNavbar" aria-expanded="false" aria-controls="myNavbar" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse ml-auto" id="myNavbar">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" style="font-size:1em" href="./api-result">API 결과 확인</a></li>
                <li class="nav-item"><a class="nav-link" style="font-size:1em" href="./api-documentation">API 명세</a></li>
            </ul>
        </div>

    </div>
  </nav>

  <!-- Page Content -->
  <div class="container-fluid">

    <div class="row">

      <div class="col-lg-3">
        <h1 class="my-4">TripPlan</h1>
        <div class="list-group">
            <div class="dropdown">
                <a href="#" class="list-group-item active dropdown-toggle" id="dropdownMenuLink"
                   data-toggle="dropdown" aria-haspopup="false" aria-expanded="false">
                    <span class="badge-get">GET</span>   Get suitable trip plan
                </a>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                    <a class="dropdown-item" href="#개요">개요</a>
                    <a class="dropdown-item" href="#요청">요청</a>
                    <a class="dropdown-item" href="#응답">응답</a>
                    <a class="dropdown-item" href="#예시">예시</a>
                </div>
            </div>
        </div>
      </div>
      <!-- /.col-lg-3 -->

      <div class="col-lg-9">
          <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 mb-3">
              <h1 class="h2 font-weight-bold w-100"><span class="badge-get">GET</span>   Get suitable trip plan</h1>
          </div>
          <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 mb-4"  style="border-bottom: solid 2px #187ed6;">
              <h2 id="개요" class="w-100">개요</h2>
          </div>
          <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 mb-lg-5">
              <p>
                  여행 계획 API는 여행동안 머물 기간, 여행 시작 시각, 여행 종료 시각을 입력 받으면 입력한 기간 내에 여행 일정표를 제공해줍니다.
              </p>
          </div>

          <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 mb-4"  style="border-bottom: solid 2px #187ed6;">
              <h2 id="요청" class="w-100">요청</h2>
          </div>
          <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 mb-lg-5">
              <p>
                  <pre class="w-100"><code>curl --request GET \
--url "http://54.180.90.91:5000/tripplan/days/{days}/between/startTime/{startTime}/and/endTime/{endTime}"</code></pre>
              </p>
          </div>
          <h3>요청 파라미터</h3>
          <p>여행 계획 API에 필요한 파라미터에 대한 내용입니다.</p>
          <div class="table-responsive">
              <table class="table table-striped table-sm">
                  <thead>
                    <tr>
                        <th>파라미터</th>
                        <th>타입</th>
                        <th>필수여부</th>
                        <th>설명</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                        <td>days</td>
                        <td>string</td>
                        <td>Y</td>
                        <td>여행하면서 머물 기간</td>
                    </tr>
                    <tr>
                        <td>startTime</td>
                        <td>string</td>
                        <td>Y</td>
                        <td>여행 <strong>시작</strong> 시각 <br>value: <code>0000</code><br>
                            <ul>
                                <li>1,2번째 인덱스 값: hour</li>
                                <li>3,4번째 인덱스 값: minute</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>endTime</td>
                        <td>string</td>
                        <td>Y</td>
                        <td>여행 <strong>종료</strong> 시각 <br>value: <code>0000</code><br>
                            <ul>
                                <li>1,2번째 인덱스 값: hour</li>
                                <li>3,4번째 인덱스 값: minute</li>
                            </ul>
                        </td>
                    </tr>
                  </tbody>
              </table>
          </div>
           <h3>요청 바디</h3>
          <p>
            <ul>
                <li> 해당 API는 요청 바디를 필요로 하지 않습니다.</li>
            </ul>
          </p>

          <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 mb-4"  style="border-bottom: solid 2px #187ed6;">
              <h2 id="응답" class="w-100">응답</h2>
          </div>
          <h3>응답 바디</h3>
          <p>JSON 형태로 정보들을 반환합니다.</p>

          <div class="table-responsive">
              <table class="table table-striped table-sm">
                  <thead>
                    <tr>
                        <th>속성</th>
                        <th>타입</th>
                        <th>필수여부</th>
                        <th>설명</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                        <td>code</td>
                        <td>result code</td>
                        <td>Y</td>
                        <td>0: 실패, 1: 성공</td>
                    </tr>
                    <tr>
                        <td>message</td>
                        <td>string</td>
                        <td>Y</td>
                        <td>code에 대한 설명</td>
                    </tr>
                    <tr>
                        <td>result</td>
                        <td>JsonObject</td>
                        <td>Y</td>
                        <td>summary와 tripplan 정보를 가지는 JsonObject</td>
                    </tr>
                  </tbody>
              </table>
          </div>

          <h3>result-summary</h3>
          <div class="table-responsive">
              <table class="table table-striped table-sm">
                  <thead>
                    <tr>
                        <th>속성</th>
                        <th>타입</th>
                        <th>설명</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                        <td>days</td>
                        <td>int</td>
                        <td>여행동안 총 소요 일수</td>
                   </tr>
                    <tr>
                        <td>totalAttractionsCnt</td>
                        <td>int</td>
                        <td>여행동안 총 방문한 관광 명소 수</td>
                    </tr>
                    <tr>
                        <td>totalRestaurantsCnt</td>
                        <td>int</td>
                        <td>여행동안 총 방문한 음식점 수</td>
                    </tr>
                    <tr>
                        <td>totalMoveDistance</td>
                        <td>int</td>
                        <td>여행동안 총 이동거리(m)</td>
                    </tr>
                    <tr>
                        <td>totalMoveDuration</td>
                        <td>int</td>
                        <td>여행동안 총 이동시간(ms)</td>
                    </tr>
                    <tr>
                        <td>totalTourDuration</td>
                        <td>int</td>
                        <td>여행동안 관광명소 또는 음식점에서 보낸 총 시간(ms)</td>
                    </tr>
                  </tbody>
              </table>
          </div>

          <h3>result-tripplan</h3>
          <p>day 1일차부터 n일차까지의 방문할 장소 정보와 장소간 이동정보 제공합니다.</p>
          <div class="table-responsive">
              <table class="table table-striped table-sm">
                  <thead>
                    <tr>
                        <th>속성</th>
                        <th>타입</th>
                        <th>설명</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                        <td>day</td>
                        <td>int</td>
                        <td>여행 중 n번째 날</td>
                   </tr>
                    <tr>
                        <td>section</td>
                        <td>string</td>
                        <td>해당 day에 갈 지역</td>
                   </tr>
                    <tr>
                        <td>tourList</td>
                        <td>JsonObjectArray</td>
                        <td>해당 일차의 방문할 장소 정보와 장소간 이동정보</td>
                    </tr>
                  </tbody>
              </table>
          </div>

          <h3>result-tripplan-tourList 중 <strong>type = tour or meal</strong></h3>
          <div class="table-responsive">
              <table class="table table-striped table-sm">
                  <thead>
                    <tr>
                        <th>속성</th>
                        <th>타입</th>
                        <th>설명</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                        <td>num</td>
                        <td>int</td>
                        <td>순서번호</td>
                   </tr>
                    <tr>
                        <td>type</td>
                        <td>string</td>
                        <td>현재 JsonObject가 방문할 관광명소 정보(tour)인지 음식점 정보(meal)인지 장소간 이동 정보(move)인지 표시</td>
                    </tr>
                    <tr>
                        <td>name</td>
                        <td>string</td>
                        <td>방문 장소 이름</td>
                    </tr>
                    <tr>
                        <td>lat</td>
                        <td>float</td>
                        <td>방문 장소의 위도</td>
                    </tr>
                  <tr>
                        <td>lng</td>
                        <td>float</td>
                        <td>방문할 장소의 경도</td>
                    </tr>
                  <tr>
                        <td>visitStart</td>
                        <td>int</td>
                        <td>방문 시작 시각</td>
                    </tr>
                  <tr>
                        <td>visitEnd</td>
                        <td>int</td>
                        <td>방문 종료 시각</td>
                    </tr>
                  <tr>
                        <td>address</td>
                        <td>string</td>
                        <td>방문 장소 주소</td>
                    </tr>
                  <tr>
                        <td>description</td>
                        <td>string</td>
                        <td>방문 장소에 대한 설명</td>
                    </tr>
                  </tbody>
              </table>
          </div>

          <h3>result-tripplan-tourList 중 <strong>type = move</strong></h3>
          <div class="table-responsive">
              <table class="table table-striped table-sm">
                  <thead>
                    <tr>
                        <th>속성</th>
                        <th>타입</th>
                        <th>설명</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                        <td>num</td>
                        <td>int</td>
                        <td>순서번호</td>
                   </tr>
                    <tr>
                        <td>type</td>
                        <td>string</td>
                        <td>현재 JsonObject가 방문할 관광명소 정보(tour)인지 음식점 정보(meal)인지 장소간 이동 정보(move)인지 표시</td>
                    </tr>
                    <tr>
                        <td>distance</td>
                        <td>int</td>
                        <td>이동 거리(m)</td>
                    </tr>
                    <tr>
                        <td>duration</td>
                        <td>int</td>
                        <td>이동 시간(ms)</td>
                    </tr>
                  </tbody>
              </table>
          </div>

          <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 mb-4"  style="border-bottom: solid 2px #187ed6;">
              <h2 id="예시" class="w-100">예시</h2>
          </div>
          <h3>요청 스크립트</h3>
          <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 mb-lg-5">
              <p>
                  <pre class="w-100"><code># python
          response = requests.get("http://54.180.90.91:5000/tripplan/days/02/between/startTime/1153/and/endTime/1633")
          jo = json.loads(response.text)
          print(jo)</code></pre>
              </p>
          </div>
          <h3>응답 결과</h3>
          
          <div id="json" class="mb-5"></div>
      </div>
      <!-- /.col-lg-9 -->

    </div>

  </div>
  <!-- /.container -->

  <!-- Footer -->
  <footer class="py-3 bg-dark">
    <div class="container">
      <p class="m-0 text-center text-white">Copyright &copy; 2020.11.04</p>
    </div>
    <!-- /.container -->
  </footer>


<!-- Add jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>


    <!-- Add JS -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>


    <script>
        var jsonObj = {};
        var jsonViewer = new JSONViewer();
        document.querySelector('#json').appendChild(jsonViewer.getContainer());

        var setJSON = function() {
            try{
                var value = JSON.stringify({ "code": 1, "message": "response success",
                    "result": { "tripplan": [ { "day": 1, "section": "공주", "tourList": [ { "num": 1, "type": "tour", "name": "태화산", "lat": 36.5625, "lng": 127.0043, "address": "충청남도 공주시 사곡면 생골길 32-87", "description": "공주시 사곡면에 위치한 태화산은 천년고찰 마곡사를 품고 있기로 유명하다. 태화산 명칭은 크고 아름다운 산의 형세에서 유래한다. 전 구간이 송림으로 우거져 있어 산행로를 따라 태화산을 오르면 자연스럽게 산림욕을 할 수 있다. \n\n※ 산행안내 ·산행시간: 순수 이동시간 2시간 30분. 산행시간 조절은 탐방객 사정에 따라 산출\n·산행코스: 마곡사 남원→0.5km→천연송림욕장→1.3km→활인봉→1.1km→나발봉/생골마을 갈림길→1.2km→나발봉→2.1km→한국문화연수원→0.8km→마곡사 북원", "visitStart": 1153, "visitEnd": 1243 }, { "num": 2, "type": "move", "distance": 34566, "duration": 2109947 }, { "num": 3, "type": "meal", "name": "나그네정육점식당", "lat": 36.4468, "lng": 127.1206, "address": "충청남도 공주시 제민천1길 3-1, (봉황동)", "description": "정육점 직영으로 고기를 납품받으므로써 저렴한 가격에 구입\n청국장을 직접 띄워 원가 절감함, 친절한 서비스와 맛", "visitStart": 1317, "visitEnd": 1357 }, { "num": 4, "type": "move", "distance": 2413, "duration": 370858 }, { "num": 5, "type": "tour", "name": "공산성", "lat": 36.4647, "lng": 127.1239, "address": "충남 공주시 웅진로 280", "description": "공산성은 백제가 고구려의 공격권에서 벗어나 전열을 재정비하고 패색 짙은 백제를 다시 일으켜 세운 역사의 장으로 5대왕 64년의 백제 웅진사를 써 내려간 곳이다. 고구려에 맞서 영토를 지키고, 중국과 일본 등 외국과 활발히 교류한 해상왕국으로서 명성을 날렸던 백제. 그러나 475년에 이르러 고구려의 대대적인 침략으로 도성인 한성이 함락되는 불운을 겪게 된다. 이 전투에서 개로왕이 전사하자, 개로왕의 뒤를 이어 백제 제22대 왕으로 즉위한 문주왕이 웅진(지금의 공주)으로 천도하면서 공산성은 백제의 도성이 된다.\n 백제 웅진의 64년 도성이 된 공산성은 백제 이래 천년 이상의 시간 동안 세월과 시대의 변천을 겪어 온 역사의 장으로 그 세월만큼 역사가 이루어진 곳이기도 하다. 실제로 공산성 성내에는 백제 때 건물지를 비롯하여 통일신라, 고려, 조선시대의 건물지가 산재해 있다. 조선 인조대왕의 일화가 전해지는 쌍수정 아래 광장은 백제의 추정 왕궁지. 성의 동쪽에 있는 임류각지의 발굴로 성내에 백제왕궁지가 있었음이 밝혀지게 되었다.\n 공산성은 성의 어느 방향에서 올라서더라도 성벽길을 따라 가면 발 밑이 도심이라는 사실이 믿기지 않을 정도로 산성의 정취에 푹 빠져든다. 성벽길을 걷노라면 때로는 급하게 내려가 걷는 이의 발걸음을 조심스럽게 하고, 때로는 급하게 솟구쳐 숨을 허덕이게 하기도 하지만, “힘들다” 타박할 새가 없다. 아름다운 주변 경관을 내어놓는가 하면 멋스러운 전통 문루건축물을 보여주기도 하기 때문이다.\n 금서루에 올라 우측 성벽을 따라 가면 구불구불 완만하다가도 때로는 급하게 흐르듯 이어지는데, 굳이 안내를 받지 않아도 만나게 되는 진남루, 동문루, 연지와 만하루, 공북루 등 조선시대 문루건축을 감상할 수 있는 코스이다. 특히 성의 북쪽 곳곳은 금강과 어우러진 공산성의 비경을 간직하고 있다. 성벽을 거닐다 보면 만나는 문루건축물 외에도 공주시가지 전경이 눈에 들어오고 금강이 발 아래 흐르는가 하면 강 너머 공주시가지가 조망되기도 하는 등 좋은 경관이 불쑥", "visitStart": 1403, "visitEnd": 1558 }, { "num": 6, "type": "move", "distance": 1889, "duration": 290986 }, { "num": 7, "type": "tour", "name": "공주경비행기", "lat": 36.4567, "lng": 127.1245, "address": "충청남도 공주시 의당면 수촌리 공주이착륙장", "description": "공주경비행장은 공주시 우성면 옥성리 금강변 일원에 조성된 항공레저 체험공간이다.\n길이 550m, 폭 10m 규모의 활주로와 이착륙장과 길이 250m, 폭 10m 규모의 주기장, 사무실과 격납고 등의 부대시설 등으로 구성되어 있다.", "visitStart": 1602, "visitEnd": 1758 }, { "num": 8, "type": "move", "distance": 2447, "duration": 327887 }, { "num": 9, "type": "meal", "name": "예가", "lat": 36.462, "lng": 127.1433, "address": "충청남도 공주시 금벽로 535(신관동)", "description": "재래시장 이용 식자재 직접 구입 하여 원가절감하고 300석 규모의 넓은 실내와 청결한 업소를 관리", "visitStart": 1802, "visitEnd": 1854 }, { "num": 10, "type": "move", "distance": 14371, "duration": 771596 }, { "num": 11, "type": "tour", "name": "충현서원", "lat": 36.3981, "lng": 127.2504, "address": "충청남도 공주시 반포면 공암리 354", "description": "충현서원은 서기(조선중기 학자)가 조선 선조 14년(1581)에 주자의 영정을 모시기 위해 건립한 서원이다. 사원의 이름은 인조가 1624년 '충현'이라는 현판을 사액하며 지어졌다. 숙종 15년(1689)에 김장생, 조헌, 송준길을, 숙종 39년(1713)에는 송시열을 더해 모셨다.\n충현서원의 내부는 사당, 재실, 충현서원사적비, 우암송선생추향기석비 등으로 구성되어 있다. 사당에는 주자를 중심으로 좌우 나머지 위패들이 모셔져 있다. 음력 3월과 9월 제사를 지낸다.", "visitStart": 1906, "visitEnd": 2059 } ] }, { "day": 2, "section": "논산, 계룡, 금산", "tourList": [ { "num": 1, "type": "tour", "name": "성삼문묘", "lat": 36.1186, "lng": 127.1867, "address": "충청남도 논산시 가야곡면 양촌리", "description": "성삼문의 묘 앞의 묘비에는 성삼문에 대한 기록이 새겨져 있는데, 그의 곧은 절개와 지조를 찬양하고, 그의 능력이 다하지 못함에 안타까워하고 있다. 또한 '논산금석문대관'을 보면 묘비를 건립할 당시의 여러 사람들이 발의하여 묘비를 세웠음을 알 수 있다. 특히 묘비 세우기를 계획한 사람이 취금헌 박팽년의 후손인 대사간 박기정이라고 되어 있다. 그 밖에 여러 제군들이 비를 건립하는 일을 도왔다고 기록에 나와 있는데, 이러한 자료를 통해서 당시 관련 인물들이 지역 사회에서의 활발한 사족 활동을 하고 있었음을 나타내는 자료로 판단된다.", "visitStart": 1100, "visitEnd": 1252 }, { "num": 2, "type": "move", "distance": 12718, "duration": 995160 }, { "num": 3, "type": "meal", "name": "한마당", "lat": 36.1093, "lng": 127.0992, "address": "충청남도 논산시 연무읍 득안대로 434, (죽평리)", "description": "2009년 7월부터 가격동결, 음식이 정갈하며 전체적으로 모든 메뉴의 가격이 저렴함. 육군훈련소 앞에 위치하고 있어 입대장병 및 면회객의 방문이 많으며, 주인이 친절하고 음식이 맛있어 연무대 맛집으로 소문남. 유기농채소사용,공기밥무한리필", "visitStart": 1308, "visitEnd": 1347 }, { "num": 4, "type": "move", "distance": 31049, "duration": 1640281 }, { "num": 5, "type": "tour", "name": "토감 자연미술학교", "lat": 36.323, "lng": 127.1007, "address": "충청남도 논산시 노성면 화곡길21", "description": "자연미술체험의 장 '토감'은 충청남도 논산시 노성면에 자리하고 있다. 1994년 폐교하게 된 시골학교 삼동초등학교를 새로 단장하여 2002년 도예원으로 개관한 것이 지금의 '토감'이다. 도자기체험을 비롯하여 천연비누만들기와 같은 다양한 체험을 할 수 있고, 지역민들이나 다양한 단체들과의 교류를 통해 문화체험 프로그램을 운영하고 있다. 2015년에는 자유학기제 지원 우수기관, 전국 지역활성화 리더교육장으로 선정되기도 했다.", "visitStart": 1413, "visitEnd": 1633 } ] } ],
                        "summary": { "days": 2, "totalAttractionsCnt": 6, "totalRestaurantsCnt": 3, "totalMoveDistance": 99453, "totalMoveDuration": 6506715, "totalTourDuration": 46293285 } } });

                jsonObj = JSON.parse(value);
            }
            catch(err){
                alert(err);
            }
        }

        setJSON();


        jsonViewer.showJSON(jsonObj,-1,-1);
    </script>


</body>

</html>